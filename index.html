<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Warfarin Calculator (Strict Schedule)</title>
    <style>
        :root {
            --primary: #0056b3;
            --bg-color: #f4f7f6;
            --success: #28a745;
            --danger: #dc3545;
        }
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px 15px;
            color: #333;
            -webkit-tap-highlight-color: transparent;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        h2 {
            text-align: center;
            margin-top: 0;
            color: #333;
            font-size: 1.4rem;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            font-size: 1rem;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 19px;
            box-sizing: border-box;
            background-color: #fff;
            appearance: none;
            -webkit-appearance: none;
        }
        .btn-main {
            width: 100%;
            padding: 16px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-top: 10px;
        }
        .btn-main:active { transform: scale(0.96); }

        /* Selection Box */
        .selection-box {
            display: none;
            background-color: #e9f5ff;
            border: 2px solid #b8daff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }
        .selection-btns {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }
        .btn-option {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
        }
        .btn-option.increase { background-color: var(--success); }
        .btn-option.decrease { background-color: var(--danger); }

        /* Result Area */
        .result-box {
            margin-top: 30px;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background-color: #fff;
            display: none;
        }
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: bold;
            text-align: center;
        }
        .alert-high { background-color: #ffebe9; color: #cc0f35; }
        .alert-ok { background-color: #e3f9e5; color: #0f5132; }
        .alert-low { background-color: #fff8e1; color: #997404; }
        
        .twd-display {
            text-align: center;
            background: #f1f8ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≤ */
        .pill-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .pill-header {
            font-weight: bold;
            color: #0056b3;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        .pill-detail {
            font-size: 1rem;
            color: #333;
        }
        .pill-days {
            margin-top: 5px;
            font-size: 0.95rem;
            color: #666;
            background: #eee;
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">
    <h2>üíä ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≤ Warfarin</h2>
    
    <div class="form-group">
        <label>‡∏Ñ‡πà‡∏≤ INR ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
        <input type="text" id="inrVal" inputmode="decimal" placeholder="‡πÄ‡∏ä‡πà‡∏ô 2.5">
    </div>

    <div class="form-group">
        <label>TWD ‡πÄ‡∏î‡∏¥‡∏° (‡∏°‡∏Å./‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)</label>
        <input type="text" id="currentTwd" inputmode="decimal" placeholder="‡πÄ‡∏ä‡πà‡∏ô 21">
    </div>

    <button type="button" class="btn-main" onclick="checkGuideline()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>

    <div id="selectionArea" class="selection-box">
        <div id="selectionText" style="font-weight:bold; color:#004085;"></div>
        <div id="selectionButtons" class="selection-btns"></div>
    </div>

    <div id="resultArea" class="result-box">
        <div id="statusAlert" class="alert"></div>
        
        <div id="planSection">
            <div style="text-align:center; margin-bottom:10px;">
                ‡πÅ‡∏ú‡∏ô: <span id="adjustmentText" style="font-weight:bold;"></span>
            </div>

            <div class="twd-display">
                <span style="font-size:1.8rem; font-weight:bold; color:#0056b3;" id="newTwdVal"></span>
                <span style="font-size:0.9rem;"> mg / week</span>
                <div style="font-size:0.8rem; color:#666; margin-top:5px;">
                    (‡πÄ‡∏î‡∏¥‡∏° <span id="oldTwdDisplay"></span>, <span id="percentChange"></span>)
                </div>
            </div>

            <div>
                <h3 style="margin:0 0 15px 0; font-size:1.1rem; color:#444; border-bottom:2px solid #eee; padding-bottom:5px;">üìÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏¥‡∏ô‡∏¢‡∏≤ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</h3>
                <div id="scheduleDetails"></div>
            </div>
        </div>
    </div>
    <div class="disclaimer">
        ‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô 
        ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏Å‡∏£‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç 
        ‡πÇ‡∏î‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏∂‡∏á‡∏ñ‡∏∂‡∏á‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢
    </div>
</div>

<script>
    function parseInput(id) {
        const val = document.getElementById(id).value;
        if (!val) return NaN;
        return parseFloat(val.replace(',', '.').trim());
    }

    // --- 1. ‡∏™‡πà‡∏ß‡∏ô Guideline (Logic ‡πÄ‡∏î‡∏¥‡∏°) ---
    function checkGuideline() {
        document.getElementById('resultArea').style.display = 'none';
        document.getElementById('selectionArea').style.display = 'none';
        document.getElementById('planSection').style.display = 'block';

        const inr = parseInput('inrVal');
        const oldTwd = parseInput('currentTwd');
        
        if (isNaN(inr) || isNaN(oldTwd)) {
            alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô");
            return;
        }

        if (inr < 1.5) showSelection("INR < 1.5 (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏¢‡∏≤ 10-20%)", [10, 20], "increase");
        else if (inr >= 1.5 && inr <= 1.99) showSelection("INR 1.5-1.9 (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏¢‡∏≤ 5-10%)", [5, 10], "increase");
        else if (inr >= 2.0 && inr <= 3.0) calculateFinal(0, "alert-ok", "INR ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå (2.0-3.0)", "‡∏Ñ‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡πÄ‡∏î‡∏¥‡∏°");
        else if (inr >= 3.1 && inr <= 3.99) showSelection("INR 3.1-3.9 (‡∏•‡∏î‡∏¢‡∏≤ 5-10%)", [-5, -10], "decrease");
        else if (inr >= 4.0 && inr <= 4.99) calculateFinal(-10, "alert-high", "INR 4.0-4.9", "‡∏´‡∏¢‡∏∏‡∏î‡∏¢‡∏≤ 1 ‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏î 10%");
        else if (inr >= 5.0) {
            document.getElementById('resultArea').style.display = 'block';
            document.getElementById('statusAlert').className = "alert alert-high";
            document.getElementById('statusAlert').innerHTML = "INR ‚â• 5.0 ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏´‡∏¢‡∏∏‡∏î‡∏¢‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå";
            document.getElementById('planSection').style.display = 'none';
        }
    }

    function showSelection(text, percents, type) {
        const area = document.getElementById('selectionArea');
        document.getElementById('selectionText').innerText = text;
        const btns = document.getElementById('selectionButtons');
        btns.innerHTML = '';
        percents.forEach(pct => {
            const btn = document.createElement('button');
            btn.className = `btn-option ${type}`;
            btn.innerText = (pct > 0 ? "+" : "") + pct + "%";
            btn.onclick = () => calculateFinal(pct, type === "increase" ? "alert-low" : "alert-high", type === "increase" ? "INR ‡∏ï‡πà‡∏≥" : "INR ‡∏™‡∏π‡∏á", `‡∏õ‡∏£‡∏±‡∏ö ${pct}%`);
            btns.appendChild(btn);
        });
        area.style.display = 'block';
    }

    function calculateFinal(percent, statusClass, statusText, actionText) {
        document.getElementById('selectionArea').style.display = 'none';
        const oldTwd = parseInput('currentTwd');
        
        let calcTwd = oldTwd * (1 + (percent / 100));
        let newTwd = Math.round(calcTwd * 2) / 2; // Round to .0 or .5

        const resultArea = document.getElementById('resultArea');
        resultArea.style.display = 'block';
        document.getElementById('statusAlert').className = "alert " + statusClass;
        document.getElementById('statusAlert').innerText = statusText;
        document.getElementById('adjustmentText').innerText = actionText;
        document.getElementById('newTwdVal').innerText = newTwd.toFixed(1);
        document.getElementById('oldTwdDisplay').innerText = oldTwd;
        document.getElementById('percentChange').innerText = percent === 0 ? "‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°" : (percent > 0 ? "+" : "") + percent + "%";

        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≤
        const scheduleHtml = calculateStrictSchedule(newTwd);
        document.getElementById('scheduleDetails').innerHTML = scheduleHtml;
        resultArea.scrollIntoView({ behavior: 'smooth' });
    }

    // --- 2. ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≤ (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î) ---
    
    // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏¢‡∏≤ 2, 3, 5 mg (‡∏£‡∏ß‡∏°‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á)
    const VALID_DOSES = [
        0, 
        1.0,  // 2mg ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á
        1.5,  // 3mg ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á
        2.0,  // 2mg 1 ‡πÄ‡∏°‡πá‡∏î
        2.5,  // 5mg ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á
        3.0,  // 3mg 1 ‡πÄ‡∏°‡πá‡∏î
        4.0,  // 2mg 2 ‡πÄ‡∏°‡πá‡∏î
        5.0,  // 5mg 1 ‡πÄ‡∏°‡πá‡∏î
        6.0,  // 3mg 2 ‡πÄ‡∏°‡πá‡∏î
        7.5,  // 5mg 1.5 ‡πÄ‡∏°‡πá‡∏î
        10.0  // 5mg 2 ‡πÄ‡∏°‡πá‡∏î
    ];

    function calculateStrictSchedule(targetTwd) {
        // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ (‡πÄ‡∏ô‡πâ‡∏ô‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö)
        // 7+0 (‡∏Å‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô)
        // 6+1 (‡∏à-‡∏™, ‡∏≠‡∏≤)
        // 5+2 (‡∏à-‡∏®, ‡∏™-‡∏≠‡∏≤)
        // 4+3 (‡∏à-‡∏û‡∏§, ‡∏®-‡∏≠‡∏≤)
        const patterns = [
            { dA: 7, dB: 0, labelA: "‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô (‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå)", labelB: "" },
            { dA: 6, dB: 1, labelA: "‡∏ß‡∏±‡∏ô ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡πÄ‡∏™‡∏≤‡∏£‡πå", labelB: "‡∏ß‡∏±‡∏ô ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
            { dA: 5, dB: 2, labelA: "‡∏ß‡∏±‡∏ô ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏®‡∏∏‡∏Å‡∏£‡πå", labelB: "‡∏ß‡∏±‡∏ô ‡πÄ‡∏™‡∏≤‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
            { dA: 4, dB: 3, labelA: "‡∏ß‡∏±‡∏ô ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏û‡∏§‡∏´‡∏±‡∏™‡∏Ø", labelB: "‡∏ß‡∏±‡∏ô ‡∏®‡∏∏‡∏Å‡∏£‡πå - ‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" }
        ];

        // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏´‡∏≤ Dose A ‡πÅ‡∏•‡∏∞ Dose B ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
        for (let p of patterns) {
            for (let doseA of VALID_DOSES) {
                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏≤ doseB ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ
                let remainder = targetTwd - (doseA * p.dA);
                
                // ‡∏Å‡∏£‡∏ì‡∏µ 7 ‡∏ß‡∏±‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
                if (p.dB === 0) {
                    if (remainder === 0) {
                        return renderCard(doseA, p.dA, p.labelA) + renderTotal(targetTwd);
                    }
                } else {
                    // ‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ 2 ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤
                    let doseB = remainder / p.dB;
                    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ doseB ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Math.round)
                    // ‡πÄ‡∏ä‡πà‡∏ô 1.00000001 -> 1.0
                    let doseBRounded = Math.round(doseB * 100) / 100;
                    
                    if (VALID_DOSES.includes(doseBRounded)) {
                        return renderCard(doseA, p.dA, p.labelA) + 
                               renderCard(doseBRounded, p.dB, p.labelB) + 
                               renderTotal(targetTwd);
                    }
                }
            }
        }

        return `<div style="color:red; text-align:center;">
            ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏¢‡∏≤‡πÉ‡∏´‡πâ‡∏•‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏õ‡πä‡∏∞‡πÑ‡∏î‡πâ (TWD: ${targetTwd})<br>
            ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏¢‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡πÅ‡∏ö‡∏ö<br>
            ‡∏•‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö TWD ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (‡πÄ‡∏ä‡πà‡∏ô ¬±0.5 mg)
        </div>`;
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Ç‡∏ô‡∏≤‡∏î‡∏¢‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏û‡∏π‡∏î (‡πÄ‡∏ä‡πà‡∏ô 2mg 2 ‡πÄ‡∏°‡πá‡∏î)
    function getPillDescription(dose) {
        if (dose === 0) return { title: "‡∏´‡∏¢‡∏∏‡∏î‡∏¢‡∏≤ (Off)", detail: "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏ô‡∏¢‡∏≤" };
        
        // ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤ (Priority ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢)
        if (dose === 1.0) return { title: "1 mg", detail: "Warfarin (2 mg) ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏°‡πá‡∏î (1/2)" };
        if (dose === 1.5) return { title: "1.5 mg", detail: "Warfarin (3 mg) ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏°‡πá‡∏î (1/2)" };
        if (dose === 2.0) return { title: "2 mg", detail: "Warfarin (2 mg) 1 ‡πÄ‡∏°‡πá‡∏î" };
        if (dose === 2.5) return { title: "2.5 mg", detail: "Warfarin (5 mg) ‡∏´‡∏±‡∏Å‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏°‡πá‡∏î (1/2)" };
        if (dose === 3.0) return { title: "3 mg", detail: "Warfarin (3 mg) 1 ‡πÄ‡∏°‡πá‡∏î" };
        if (dose === 4.0) return { title: "4 mg", detail: "Warfarin (2 mg) 2 ‡πÄ‡∏°‡πá‡∏î" };
        if (dose === 5.0) return { title: "5 mg", detail: "Warfarin (5 mg) 1 ‡πÄ‡∏°‡πá‡∏î" };
        if (dose === 6.0) return { title: "6 mg", detail: "Warfarin (3 mg) 2 ‡πÄ‡∏°‡πá‡∏î" };
        if (dose === 7.5) return { title: "7.5 mg", detail: "Warfarin (5 mg) 1 ‡πÄ‡∏°‡πá‡∏î‡∏Ñ‡∏£‡∏∂‡πà‡∏á (1 ¬Ω)" };
        if (dose === 10.0) return { title: "10 mg", detail: "Warfarin (5 mg) 2 ‡πÄ‡∏°‡πá‡∏î" };

        return { title: `${dose} mg`, detail: `Warfarin (${dose} mg)` };
    }

    function renderCard(dose, days, label) {
        const info = getPillDescription(dose);
        const total = dose * days;
        return `
        <div class="pill-card">
            <div class="pill-header">${info.detail}</div>
            <div class="pill-days">‡∏Å‡∏¥‡∏ô: ${label}</div>
            <div style="float:right; color:#888; font-size:0.9em;">(‡∏£‡∏ß‡∏° ${total} mg)</div>
        </div>`;
    }

    function renderTotal(twd) {
        return `<div style="text-align:center; margin-top:10px; font-weight:bold; color:#0056b3;">‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå: ${twd} mg</div>`;
    }

</script>

</body>
</html>
